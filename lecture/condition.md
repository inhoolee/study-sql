# 조건문 함수

1) CASE WHEN
2) IF

## 조건문 함수가 사용되는 이유

- 데이터 분석을 하다보면, 특정 카테고리를 하나로 합치는 전처리가 필요할 수 있음
- 이런 일이 발생하는 이유
  - 데이터를 저장하는 쪽과 데이터를 분석하는 쪽이 나뉘고(팀 등으로),
  - 분석할 때 필요한 부분에서 조건 설정해서 변경하는 것이 더 유용
  - 저장할 때부터 특정 카테고리를 합쳐서 저장하면, 쪼개서 보고 싶을 때 볼 수 없음

## CASE WHEN

여러 조건이 있을 경우 유용

```sql
SELECT
  CASE
    WHEN 조건1 THEN 조건1이 참일 경우 결과
    WHEN 조건2 THEN 조건2가 참일 경우 결과
    ELSE 그 외 조건일 경우 결과
  END AS 새로운_컬럼_이름
```

## IF

단일 조건일 경우 유용

- IF(조건문, True일 때의 값, False일 때의 값) AS 새로운_컬럼_이름

```sql
SELECT
  IF(1=1, '동일한 결과', '동일하지 않은 결과') AS result1,
  IF(1=2, '동일한 결과', '동일하지 않은 결과') AS result2
```

## 연습 문제

1. 포켓몬의 'speed'가 70 이상이면 '빠름', 그렇지 않으면 '느림'으로 표시하는 새로운 컬럼 'Speed_Category'를 만들어 주세요

2. 포켓몬의 'type1'에 따라 'Water', 'Fire', 'Electric' 타입은 각각 '물', '불', '전기'로, 그 외 타입은 '기타'로 분류하는 새로운 컬럼 'type_Korean'을 만들어 주세요

3. 각 포켓몬의 총점(total)을 기준으로, 300 이하면 'Low', 301에서 500 사이면 'Medium', 501 이상이면 'High'로 분류해주세요

4. 각 트레이너의 배지 개수(badge_count)를 기준으로, 5개 이하면 'Beginner', 6개에서 8개 사이면 'Intermediate', 그 이상이면 'Advanced'로 분류해주세요.

5. 트레이너가 포켓몬을 포획한 날짜(catch_date)가 '2023-01-01' 이후이면 'Recent', 그렇지 않으면 'Old'로 분류해주세요.

6. 배틀에서 승자(winner_id)가 player1_id와 같으면 'Player 1 Wins', player2_id와 같으면 'Player 2 Wins', 그렇지 않으면 'Draw'로 결과가 나오게 해주세요

7. 포켓몬 타입2가 NULL이면 타입2 없음을 반환해주세요
   - 힌트 : NULL 연산은 = NULL이 아니라 IS NULL이란 것을 사용해요
   - 힌트2 : 공식 문서에 있는 특정한 함수를 사용하면 한줄로 끝낼 수 있어요(CASE WHEN을 써도 되지만)
